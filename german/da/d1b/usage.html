<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LedController: Nutzungsanleitung</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LedController
   &#160;<span id="projectnumber">2.0.2</span>
   </div>
   <div id="projectbrief">A library for the MAX7219 and the MAX7221 Led display drivers.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Erzeugt von Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Suchen');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Suchen');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('da/d1b/usage.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Nutzungsanleitung </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Schau auf die Seite des <a class="el" href="../../d6/df8/classsakurajin_1_1_led_controller.html" title="Diese Klasse bietet ein Interface zur Steuerung von MAX7219 uns MAX7221 LED Displaytreibern.">sakurajin::LedController</a> für mehr Informationen über dessen Funktionen schau in die <a href="../../examples.html">Beispiele</a>.</b></p>
<p>Diese Seite zeigt die Grundlegende Nutzung des <a class="el" href="../../d6/df8/classsakurajin_1_1_led_controller.html" title="Diese Klasse bietet ein Interface zur Steuerung von MAX7219 uns MAX7221 LED Displaytreibern.">sakurajin::LedController</a> und was man machen kann.</p>
<h1><a class="anchor" id="init_lib"></a>
Initialisieren der Bibliothek</h1>
<ol type="1">
<li>Hardware SPI is at least 10 times faster but you can only use specific pins for some signals (look <a href="../../index.html">here</a> for which pins).</li>
<li>Software SPI is slower (which only mattesrs if you need really tight timings) but you can freely choose which (free) pins you want to use.</li>
</ol>
<p>Die Library kann auf zwei Weisen initialisiert werden: mit hardware SPI oder mit software SPI.</p>
<ol type="1">
<li>Hardware SPI ist mindestens 10 mal schneller aber es müssen bestimmte pins verwendet werden (schau <a href="../../index.html">hier</a> für Details).</li>
<li>Software SPI ist langsamer (was nur bei knappen Timings relevant ist) aber man kann alle freien Pins verwenden.</li>
</ol>
<h2><a class="anchor" id="SPI_intro"></a>
Kleine Einführung in  SPI</h2>
<p>Das Serial Peripheral Interface (SPI) ist eine synchrone serielle Kommunikationsschnittstelle, welche für Kommunitaktion, primär im embedded Bereich, für kurze Distanzen verwendet wird. In diesem Fall ist der microcontroller der Master, der die Slaves (mindestens ein 7-Segment display oder Led Matrix Segment) steuert.</p>
<p>Der Master hat frei relevante Pins: SCLK(Serial Clock), MOSI(Master Out Slave In) und SS(Slave Select). Der Slave hat drei entsprechende Pins (und zwei für den Strom(GND und VCC)): CLK(Clock), DIN(Data In), CS(Ship Select). SCLK muss mit CLK verbunden werden und MOSI mit DIN. Diese Signale können zweichen mehreren SPI slaves geteilt werden, auch wenn die Slaves nicht miteinander zu tun haben. SS muss mit CS verbunden werden und jeder Slave braucht einen eigenen SS pin(dies kann jeder freier pin sein).</p>
<h1><a class="anchor" id="getting_started"></a>
Getting started</h1>
<p>Zum Verwenden muss erst ein neues <a class="el" href="../../d0/d17/classsakurajin_1_1controller__configuration.html" title="Diese Klasse wird zur Konfiguration des sakurajin::LedController verwendet.">sakurajin::controller_configuration</a> objekt erstellt werden. Dieses wird verwendet um das setup des <a class="el" href="../../d6/df8/classsakurajin_1_1_led_controller.html" title="Diese Klasse bietet ein Interface zur Steuerung von MAX7219 uns MAX7221 LED Displaytreibern.">sakurajin::LedController</a> zu konfigurieren, was sehr komplex sein kann. <a class="el" href="../../d0/d17/classsakurajin_1_1controller__configuration.html" title="Diese Klasse wird zur Konfiguration des sakurajin::LedController verwendet.">sakurajin::controller_configuration</a> hat keinen Konstruktor und ist dadurch mehr wie ein struct als eine 'richtige' Klasse. Weil alle Klassen der Bibliothek ein template sind müssen die Dimensionen der Matrix angegeben werden. Dadurch wird der Datentyp der <a class="el" href="../../d0/d17/classsakurajin_1_1controller__configuration.html" title="Diese Klasse wird zur Konfiguration des sakurajin::LedController verwendet.">sakurajin::controller_configuration</a> <code><a class="el" href="../../d0/d17/classsakurajin_1_1controller__configuration.html" title="Diese Klasse wird zur Konfiguration des sakurajin::LedController verwendet.">sakurajin::controller_configuration</a>&lt;Segmente_x,Segmente_y&gt;</code>. Um zu sehen wie man mehrere Zeilen mit einem <a class="el" href="../../d6/df8/classsakurajin_1_1_led_controller.html" title="Diese Klasse bietet ein Interface zur Steuerung von MAX7219 uns MAX7221 LED Displaytreibern.">sakurajin::LedController</a> steuern kann schau <a class="el" href="../../dd/d36/multi_row.html">diese</a> Seite an. Der Rest der Seite wird <code><a class="el" href="../../d0/d17/classsakurajin_1_1controller__configuration.html" title="Diese Klasse wird zur Konfiguration des sakurajin::LedController verwendet.">sakurajin::controller_configuration</a>&lt;4,1&gt;</code> verwenden wie im <a class="el" href="../../d2/d7f/_led-matrix-rocket_8ino-example.html">Beispiel Rakete</a>.</p>
<p>Wenn Hardware SPI verwendet werden soll muss useHardwareSpi auf true gesetzt werden, ansonsten auf false. Falls hardware SPI verwendet wird dann muss nur der CS pin angegeben werden, ansonsten wird noch der CLK und MOSI pin benötigt. Einfach die gewünschten Werte SPI_CS, SPI_CLK und SPI_MOSI zuweisen.</p>
<p>Nun kann die Konfiguration mit der Funktion <a class="el" href="../../d0/d17/classsakurajin_1_1controller__configuration.html#a75b1ea5dd184dab5686ba3872183f8ea" title="Prüft ob diese Konfiguration gültig ist.">sakurajin::controller_configuration.isValid()</a> auf Gültigkeit geprüft werden. Falls true zurückgegeben wird, kann mit dem nächsten Schritt fortgefahren werden. Wenn nicht lohnt es sich debug_output auf true zu setzen und rauszufinden was schief läuft.</p>
<p>Nun da eine Gültige Konfiguration vorhanden ist, kann diese an die init Funktion des <a class="el" href="../../d6/df8/classsakurajin_1_1_led_controller.html" title="Diese Klasse bietet ein Interface zur Steuerung von MAX7219 uns MAX7221 LED Displaytreibern.">sakurajin::LedController</a> Objekts übergeben werden. Nun können <a class="el" href="../../d6/df8/classsakurajin_1_1_led_controller.html#a1d0bc6e8cdb09c42fd6bd2fd06374124" title="Setze eine Reihe eines Segments.">sakurajin::LedController.setRow</a> und sakurajin::LedController.setSegment verwendet werden um Daten an die Matrix zu senden.</p>
<p>setSegment sets a whole segment but the segment can be specified through coordinates or the index. sakurajin::LedController.setSegment setzt ein ganzes Segment, allerdings kann das Segment über Nummer und Koordinaten angegeben werden.</p>
<p>Der folgende Codeschnipsel sollte funktionieren und zeigt wie ein Led initialisiert mit hardware SPI wird und auf einigen Segmenten Daten angezeigt werden.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;sakurajin::LedController.hpp&quot;</span></div>
<div class="line"><span class="keyword">auto</span> lc = <a class="code" href="../../d6/df8/classsakurajin_1_1_led_controller.html">sakurajin::LedController&lt;4,1&gt;</a>();</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> setup(){</div>
<div class="line">    <span class="keyword">auto</span> conf = <a class="code" href="../../d0/d17/classsakurajin_1_1controller__configuration.html">sakurajin::controller_configuration&lt;4,1&gt;</a>();</div>
<div class="line">    conf.<a class="code" href="../../d0/d17/classsakurajin_1_1controller__configuration.html#a9faea9cf858e4222c6d9c5b7fe4acfc3">useHardwareSpi</a> = <span class="keyword">true</span>;</div>
<div class="line">    conf.<a class="code" href="../../d0/d17/classsakurajin_1_1controller__configuration.html#a04cb0d8d4e95440fe5b780141bcf4cfc">SPI_CS</a> = 25;</div>
<div class="line"> </div>
<div class="line">    lc.init(conf);</div>
<div class="line"> </div>
<div class="line">    lc.setRow(lc.getConfig().getSegmentNumber(0,1),2,0xAA);</div>
<div class="line">    lc.setSegment(lc.getConfig().getSegmentNumber(1,1),{0x00,0x01,0x03,0x07,0x0F,0x1F,0x3F,0x7F});</div>
<div class="line">    lc.setSegment(2,1,{0x7F,0x3F,0x1F,0x0F,0x07,0x03,0x01,0x00});</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> loop(){</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="what_after_intro"></a>
Was jetzt?</h1>
<p>Nun wo die Grundlagen verstanden sind kann man sich den fortgeschrittenen Themen wie dem <a class="el" href="../../dd/d36/multi_row.html">Verwenden mehrerer Zeilen</a> oder dem <a class="el" href="../../df/d3a/movement.html">Bewegen der angezeigten Daten</a> widmen. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="aclasssakurajin_1_1controller__configuration_html_a9faea9cf858e4222c6d9c5b7fe4acfc3"><div class="ttname"><a href="../../d0/d17/classsakurajin_1_1controller__configuration.html#a9faea9cf858e4222c6d9c5b7fe4acfc3">sakurajin::controller_configuration::useHardwareSpi</a></div><div class="ttdeci">bool useHardwareSpi</div><div class="ttdoc">true falls hardware SPI genutzt werden soll (schaue https://www.arduino.cc/en/Reference/SPI für die P...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2a/_led_controller__config_8hpp_source.html#l00078">LedController_config.hpp:78</a></div></div>
<div class="ttc" id="aclasssakurajin_1_1controller__configuration_html"><div class="ttname"><a href="../../d0/d17/classsakurajin_1_1controller__configuration.html">sakurajin::controller_configuration</a></div><div class="ttdoc">Diese Klasse wird zur Konfiguration des sakurajin::LedController verwendet.</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2a/_led_controller__config_8hpp_source.html#l00031">LedController_config.hpp:31</a></div></div>
<div class="ttc" id="aclasssakurajin_1_1controller__configuration_html_a04cb0d8d4e95440fe5b780141bcf4cfc"><div class="ttname"><a href="../../d0/d17/classsakurajin_1_1controller__configuration.html#a04cb0d8d4e95440fe5b780141bcf4cfc">sakurajin::controller_configuration::SPI_CS</a></div><div class="ttdeci">unsigned int SPI_CS</div><div class="ttdoc">Der pin für das chip select Signal (CS).</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2a/_led_controller__config_8hpp_source.html#l00054">LedController_config.hpp:54</a></div></div>
<div class="ttc" id="aclasssakurajin_1_1_led_controller_html"><div class="ttname"><a href="../../d6/df8/classsakurajin_1_1_led_controller.html">sakurajin::LedController</a></div><div class="ttdoc">Diese Klasse bietet ein Interface zur Steuerung von MAX7219 uns MAX7221 LED Displaytreibern.</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dcc/_led_controller__template_8hpp_source.html#l00040">LedController_template.hpp:40</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Erzeugt von
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
